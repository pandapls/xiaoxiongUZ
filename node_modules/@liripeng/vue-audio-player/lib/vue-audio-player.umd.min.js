(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-audio-player"]=t():e["vue-audio-player"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"0aac":function(e,t){!function(e){var t,i='<svg><symbol id="icon-play" viewBox="0 0 1024 1024"><path d="M511.2269 64.4608c-246.1655 0-446.4425 200.278-446.4425 446.4425 0 246.1655 200.277 446.4435 446.4425 446.4435s446.4425-200.278 446.4425-446.4435C957.6694 264.7388 757.3914 64.4608 511.2269 64.4608zM511.2269 901.5409c-215.4015 0-390.6376-175.2361-390.6376-390.6376 0-215.4015 175.2361-390.6365 390.6376-390.6365 215.4015 0 390.6365 175.2351 390.6365 390.6365C901.8634 726.3048 726.6273 901.5409 511.2269 901.5409zM705.3455 459.649l-238.807-129.622c-11.3347-6.186-23.5151-9.4556-35.2328-9.4556-34.5508 0-59.5927 26.5134-59.5927 63.0272v254.61248c0 36.5117 25.0419 62.9975 59.5927 63.0262 11.7166 0 23.8971-3.2696 35.1519-9.3993l240.087-129.7326c21.718-11.8262 34.1985-30.2735 34.1985-50.5743C740.7432 490.8216 727.852 471.9114 705.3455 459.649zM679.9227 513.0568 439.8356 642.7884c-4.1974 2.3183-7.168 2.6429-8.5299 2.6429-1.5247 0-3.7878 0-3.7878-7.2212V383.59859199999994c0-7.2212 2.263-7.2212 3.7878-7.2212 1.3629 0 4.3325 0.3543 8.5555 2.6429l238.8357 129.6507c1.7172 0.9533 3.0515 1.8524 4.0878 2.6429C682.0219 511.8587 681.0665 512.4577 679.9227 513.0568z"  ></path></symbol><symbol id="icon-play-pause" viewBox="0 0 1024 1024"><path d="M960 512c0-247.36-200.576-448-448-448C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448C759.424 960 960 759.424 960 512zM128 511.936c0-212.032 171.904-384 384-384s384 171.968 384 384-171.904 384-384 384S128 723.968 128 511.936zM406.784 678.208c-22.656 0.064-41.088-19.072-41.088-42.56L365.696 383.04c0-23.68 18.432-42.688 41.152-42.688C429.568 340.224 448 359.488 448 382.976l0 252.544C448 659.136 429.568 678.272 406.784 678.208zM617.088 678.208C594.368 678.272 576 659.136 576 635.648L576 383.04c0-23.68 18.432-42.688 41.152-42.688 22.656-0.128 41.152 19.136 41.152 42.624l0 252.544C658.24 659.136 639.808 678.272 617.088 678.208z"  ></path></symbol><symbol id="icon-play-prev" viewBox="0 0 1024 1024"><path d="M128 102.4V928c0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32V102.4c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32z m646.028 41.395l-404.352 331.09c-27.383 22.42-27.435 58.886 0 81.35l404.352 331.09c27.382 22.42 49.676 12.003 49.676-23.366V167.16c0-35.646-22.24-45.83-49.676-23.365z m-40.546-49.518c69.12-56.597 154.222-16.897 154.222 72.883v696.8c0 89.481-85.14 129.447-154.222 72.883L329.13 605.753c-58.7-48.064-58.662-132.353 0-180.386l404.352-331.09z" fill="" ></path></symbol><symbol id="icon-play-next" viewBox="0 0 1024 1024"><path d="M889.6 921.6V96c0-17.673-14.327-32-32-32-17.673 0-32 14.327-32 32v825.6c0 17.673 14.327 32 32 32 17.673 0 32-14.327 32-32z m-646.028-41.395l404.352-331.09c27.383-22.42 27.435-58.886 0-81.35l-404.352-331.09c-27.382-22.42-49.676-12.003-49.676 23.366V856.84c0 35.646 22.24 45.83 49.676 23.365z m40.546 49.518c-69.12 56.597-154.222 16.897-154.222-72.883v-696.8c0-89.481 85.14-129.447 154.222-72.883l404.352 331.09c58.7 48.064 58.662 132.353 0 180.386l-404.352 331.09z" fill="" ></path></symbol></svg>',r=(t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss");if(r&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var i=function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",i,!1)}else document.attachEvent&&(r=t,o=e.document,s=!1,n=function(){s||(s=!0,r())},(a=function(){try{o.documentElement.doScroll("left")}catch(t){return void setTimeout(a,50)}n()})(),o.onreadystatechange=function(){"complete"==o.readyState&&(o.onreadystatechange=null,n())});var r,o,s,n,a}((function(){var e,t,r,o,s,n;(e=document.createElement("div")).innerHTML=i,i=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",r=t,(o=document.body).firstChild?(s=r,(n=o.firstChild).parentNode.insertBefore(s,n)):o.appendChild(r))}))}(window)},1054:function(e,t,i){},f6fd:function(e,t){(function(e){var t="currentScript",i=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in i)if(i[e].src==t||"interactive"==i[e].readyState)return i[e];return null}}})})(document)},f7be:function(e,t,i){"use strict";var r=i("1054"),o=i.n(r);o.a},fb15:function(e,t,i){"use strict";var r;(i.r(t),"undefined"!==typeof window)&&(i("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=r[1]));i("0aac");var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"audio-player"},[i("div",{staticClass:"audio__btn-wrap"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPrevButton,expression:"showPrevButton"}],staticClass:"audio__play--previous",class:{disable:!e.isLoop&&0===e.currentPlayIndex},on:{click:e.playPrev}},[i("svg",{staticClass:"audio__play__icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-play-prev"}})])]),!e.isPlaying&&e.showPlayButton?i("div",{staticClass:"audio__play--start",on:{click:e.play}},[i("svg",{staticClass:"audio__play__icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-play"}})])]):e.showPlayButton?i("div",{staticClass:"audio__play--pause",on:{click:e.pause}},[i("svg",{staticClass:"audio__play__icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-play-pause"}})])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showNextButton,expression:"showNextButton"}],staticClass:"audio__play--next",class:{disable:!e.isLoop&&e.currentPlayIndex===e.audioList.length-1},on:{click:e.playNext}},[i("svg",{staticClass:"audio__play__icon",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-play-next"}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showProgressBar,expression:"showProgressBar"}],ref:"audioProgressWrap",staticClass:"audio__progress-wrap",on:{click:e.initProgressBarPoint}},[i("div",{ref:"audioProgress",staticClass:"audio__progress"}),i("div",{ref:"audioProgressPoint",staticClass:"audio__progress-point"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showProgressBar,expression:"showProgressBar"}],staticClass:"audio__time-wrap"},[i("div",{staticClass:"audio__current-time"},[e._v(" "+e._s(e.currentTimeAfterFormat)+" ")]),i("div",{staticClass:"audio__duration"},[e._v(" "+e._s(e.formatTime(e.duration))+" ")])]),i("audio",{ref:"audio",staticClass:"audio-player__audio",attrs:{src:e.audioList[e.currentPlayIndex]},on:{ended:e.onEnded,timeupdate:e.onTimeUpdate,loadedmetadata:e.onLoadedmetadata}},[e._v(" 浏览器太老咯，请升级浏览器吧~ ")])])},s=[],n={name:"AudioPlayer",props:{audioList:{default:null,type:Array},showPlayButton:{default:!0,type:Boolean},showPrevButton:{default:!0,type:Boolean},showNextButton:{default:!0,type:Boolean},showProgressBar:{default:!0,type:Boolean},beforePlay:{default:null,type:Function},beforePrev:{default:null,type:Function},beforeNext:{default:null,type:Function},isLoop:{type:Boolean,default:!0},progressInterval:{default:1e3,type:Number}},data:function(){return{isIOS:/iPhone|iPad|iPod/i.test(window.navigator.userAgent),timer:null,currentPlayIndex:0,isPlaying:!1,duration:"",currentTime:"",currentTimeAfterFormat:"",isDragging:!1}},methods:{onLoadedmetadata:function(e){this.duration=this.$refs.audio.duration,this.initProgressBarDrag(),this.$emit("loadedmetadata",e)},onTimeUpdate:function(e){this.$emit("timeupdate",e)},formatTime:function(e){return[parseInt(e/60%60),parseInt(e%60)].join(":").replace(/\b(\d)\b/g,"0$1")},onEnded:function(e){this.pause(),this.currentTimeAfterFormat=this.formatTime(this.$refs.audio.currentTime),this.$emit("ended",e),this.isLoop&&(this.playNext(),this.play())},initProgressBarDrag:function(){var e=this;this.$refs.audioProgressPoint.addEventListener("touchstart",(function(t){e.isDragging=!0}),!1),this.$refs.audioProgressPoint.addEventListener("touchmove",(function(t){var i=t.touches[0];return i.pageX<e.$refs.audioProgressWrap.offsetLeft?(e.$refs.audioProgressPoint.style.left=0,e.$refs.audioProgress.style.width=0,e.currentTime=0,void(e.currentTimeAfterFormat=e.formatTime(e.currentTime))):i.pageX>e.$refs.audioProgressWrap.offsetLeft+e.$refs.audioProgressWrap.offsetWidth?(e.$refs.audioProgressPoint.style.left=e.$refs.audioProgressWrap.offsetWidth-e.$refs.audioProgressPoint.offsetWidth+"px",e.$refs.audioProgress.style.width=e.$refs.audioProgressWrap.offsetWidth+"px",e.currentTime=e.duration-.1,void(e.currentTimeAfterFormat=e.formatTime(e.currentTime))):(e.setPointPosition(i.pageX),e.$refs.audioProgress.style.width=i.pageX-e.$refs.audioProgressWrap.offsetLeft+"px",e.currentTime=e.$refs.audioProgress.offsetWidth/e.$refs.audioProgressWrap.offsetWidth*e.duration,void(e.currentTimeAfterFormat=e.formatTime(e.currentTime)))}),!1),this.$refs.audioProgressPoint.addEventListener("touchend",(function(t){e.$refs.audio.currentTime=e.currentTime,e.isDragging=!1}),!1)},setPointPosition:function(e){this.$refs.audioProgressPoint.style.left=e-this.$refs.audioProgressPoint.offsetWidth/2-this.$refs.audioProgressWrap.offsetLeft+"px"},initProgressBarPoint:function(e){this.currentTime=(e.pageX-this.$refs.audioProgressWrap.offsetLeft)/this.$refs.audioProgressWrap.offsetWidth*this.duration,this.$refs.audio.currentTime=this.currentTime,this.setPointPosition(e.pageX),this.$refs.audioProgress.style.width=e.pageX-this.$refs.audioProgressWrap.offsetLeft+"px",this.currentTimeAfterFormat=this.formatTime(this.currentTime)},playing:function(){this.isDragging||(this.currentTimeAfterFormat=this.formatTime(this.$refs.audio.currentTime),this.$refs.audioProgress.style.width=this.$refs.audio.currentTime/this.$refs.audio.duration*this.$refs.audioProgressWrap.offsetWidth+"px",this.$refs.audioProgressPoint.style.left=this.$refs.audio.currentTime/this.$refs.audio.duration*(this.$refs.audioProgressWrap.offsetWidth-this.$refs.audioProgressPoint.offsetWidth/2)+"px",this.$emit("playing"))},play:function(){var e=this,t=function(){e.$refs.audio.play(),e.$nextTick((function(){e.playing(),e.timer=setInterval(e.playing,e.progressInterval),e.isPlaying=!0,e.$emit("play")}))};this.isIOS&&(this.$refs.audio.play(),this.$refs.audio.pause()),this.beforePlay?this.beforePlay((function(e){!1!==e&&t()})):t()},pause:function(){var e=this;this.$refs.audio.pause(),this.$nextTick((function(){clearInterval(e.timer),e.isPlaying=!1,e.$emit("pause")}))},playPrev:function(){var e=this;if(!(this.currentPlayIndex<=0)||this.isLoop){var t=function(){e.currentPlayIndex<=0&&e.isLoop?e.currentPlayIndex=e.audioList.length-1:e.currentPlayIndex--,e.$nextTick((function(){e.play(),e.$emit("play-prev")}))};this.beforePrev?this.beforePrev((function(e){!1!==e&&t()})):t()}},playNext:function(){var e=this;if(!(this.currentPlayIndex+1>=this.audioList.length)||this.isLoop){var t=function(){e.currentPlayIndex+1>=e.audioList.length&&e.isLoop?e.currentPlayIndex=0:e.currentPlayIndex++,e.$nextTick((function(){e.play(),e.$emit("play-next")}))};this.beforeNext?this.beforeNext((function(e){!1!==e&&t()})):t()}}},beforeDestroy:function(){this.pause()}},a=n;i("f7be");function u(e,t,i,r,o,s,n,a){var u,d="function"===typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),r&&(d.functional=!0),s&&(d._scopeId="data-v-"+s),n?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=u):o&&(u=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(d.functional){d._injectStyles=u;var c=d.render;d.render=function(e,t){return u.call(t),c(e,t)}}else{var f=d.beforeCreate;d.beforeCreate=f?[].concat(f,u):[u]}return{exports:e,options:d}}var d=u(a,o,s,!1,null,null,null),c=d.exports,f=[c],l=function(e){f.forEach((function(t){e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&l(window.Vue);var p={install:l};i.d(t,"AudioPlayer",(function(){return c}));t["default"]=p}})}));
//# sourceMappingURL=vue-audio-player.umd.min.js.map